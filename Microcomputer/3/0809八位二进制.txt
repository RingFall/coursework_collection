DATA SEGMENT		;端口
PORT_A EQU 290H
PORT_B EQU 291H
PORT_C EQU 292H
PORT_CTL EQU 293H
PORT_AD EQU 2B0H
DATA ENDS

CODE SEGMENT
ASSUME CS:CODE,DS:DATA

START:
 MOV DX,PORT_CTL	
 MOV AL,10011001B		;8255控制字,A口输入,B口输出
 OUT DX,AL
GO:
 MOV DX,PORT_AD
 OUT DX,AL		;触发START信号
CHK:
 MOV DX,PORT_A
 IN AL,DX			;A口输入0809状态到AL
 TEST AL,01H		;测试EOC是否为高
 JZ CHK			;不是1,返回CHK
 MOV DX,PORT_AD
 IN AL,DX			;确认转换结束,读入转换结果到AL
 MOV DX,PORT_B		
 OUT DX,AL		;B口输出
 JMP GO			;返回GO继续转换

CODE ENDS
END START